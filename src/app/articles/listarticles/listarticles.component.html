<app-ajoutarticle/>
<div class="container">
    <h2 align="center">Liste des articles</h2>
    
    <p-table
        #dt
        [value]="articles()"
        [paginator]="true"
        [rows]="5"
        [showCurrentPageReport]="true"
        [tableStyle]="{ 'min-width': '50rem' }"
        currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
        [rowsPerPageOptions]="[5, 10, 20]"
        [globalFilterFields]="['designation']"
    >
    
    <ng-template pTemplate="caption">
      <div class="flex align-items-center justify-content-between">
           <span class="p-input-icon-left">
              <i class="pi pi-search"></i>
              <input type="text"  pInputText  (input)="applyFilterGlobal(dt,$event, 'contains')" placeholder="Search..." />
          </span>
      </div>
    </ng-template>
      
    <ng-template pTemplate="header">
    
  <tr>
  <th>Image</th>
  <th>Référence</th>
  <th>Désignation</th>
  <th>Marque</th>
  <th>Qte Stock</th>
  <th>Prix</th>
  <th>Actions</th>
  </tr>
</ng-template>
         
<ng-template pTemplate="body" let-item>

  <tr> 
  <td><img [src]="item.imageart" alt="..." width="70" height="50"/> </td> 
  <td>{{ item.reference }}</td> 
  <td>{{ item.designation }}</td> 
  <td>{{ item.marque }}</td> 
  <td>{{ item.qtestock }}</td> 
  <td>{{ item.prix }}</td> 
  <td>
   
    <app-modifarticle [artId]="item._id" />

    <button class="btn btn-danger" (click)="deleteArticle(item)">
        <i class="fa-solid fa-pen-to-square"></i> 
        <i class="bi bi-trash-fill" style="color:white"></i>Supprimer</button>
  </td> 
</ng-template>
<ng-template pTemplate="emptymessage">
    <tr>
        <td colspan="7">No products found.</td>
    </tr>
  </ng-template>
  <ng-template pTemplate="paginatorleft">
      <p-button type="button" icon="pi pi-plus" styleClass="p-button-text"></p-button>
  </ng-template>
  <ng-template pTemplate="paginatorright">
      <p-button type="button" icon="pi pi-cloud" styleClass="p-button-text"></p-button>
  </ng-template>
</p-table>

</div>

